# Тест План #

#### Цель: внедрение автоматизации тестирования для приложения — веб-сервиса, по покупке тура по определённой цене двумя способами:


1. Обычная оплата по дебетовой карте.
2. Уникальная технология: выдача кредита по данным банковской карты.


#

## Перечень автоматизируемых сценариев. ##



## <b> Тестирование покупки тура после нажатия кнопки "Купить".</b>



## Предусловия ##
<ul>
<li> На главной странице нажать кнопку "Купить".
<li> Валидный номер активированной карты 4444 4444 4444 4441.
<li> Валидный номер заблокированной карты 4444 4444 4444 4442.
</ul>

# 

## Позитивные сценарии: ###
<p>1. Успешная оплата тура по активной карте.
<ul>
<li> В поле "Номер карты" ввести валидное значение активной карты.
<li> В поле "Месяц" ввести валидные данные.
<li> В поле "Год" ввести валидные данные.
<li> В поле "Владелец" ввести валидное значение латиницей имя и фамилию.
<li> В поле "CVC/CVV" ввести валидное значение из трех цифр
<li> Нажать кнопку "Продолжить"
<li> ОР: Всплывающее окно с сообщением "Операция прошла успешно." В БД есть запись APPROVED.
</ul>

<p>2. Оплата тура отклонена по заблокированной карте.
<ul>
<li> В поле "Номер карты" ввести валидное значение заблокированной карты.
<li> В поле "Месяц" ввести валидные данные.
<li> В поле "Год" ввести валидные данные.
<li> В поле "Владелец" ввести валидное значение латиницей имя и фамилию.
<li> В поле "CVC/CVV" ввести валидное значение из трех цифр
<li> Нажать кнопку "Продолжить"
<li> ОР: Всплывающее окно с сообщением "Ошибка. Банк отказал в проведении операции". В БД есть запись DECLINED.
</ul>


<p>

## Негативные сценарии: ##


<b> Тестирование поля "Номер карты" </b><p>
 (остальные поля заполняются валидными данными):

1. Поле "Номер карты" оставить пустым. <p>
<b>ОР:</b> Под полем "Номер карты" появляется сообщение ошибки "Неверный формат".

2. В поле "Номер карты" ввести меньше 16 цифр. <p>
<b>ОР:</b> Под полем "Номер карты" появляется сообщение ошибки "Неверный формат".

3. В поле "Номер карты" ввести не существующий в БД номер карты. <p>
<b>ОР:</b> Под полем "Номер карты" появляется сообщение ошибки "Карты не существует".
<p>

<b> Тестирование поля "Месяц" </b><p>
(остальные поля заполняются валидными данными):

1. Поле "Месяц" оставить пустым. <p>
<b>ОР:</b> Под полем "Месяц" появляется сообщение ошибки "Неверный формат".

2. В поле "Месяц" ввести число, превыщающее количество месяцев в году. <p>
<b>ОР:</b> Под полем "Месяц" появляется сообщение ошибки "Неверный формат".

3. В поле "Месяц" ввести одну цифру. <p>
<b>ОР:</b> Под полем "Номер карты" появляется сообщение ошибки "Неверный формат".

3. В поле "Месяц" ввести невалидный месяц регистрации карты. <p>
<b>ОР:</b> Под полем "Месяц" появляется сообщение ошибки "Истек срок действия карты".

<b>Тестирование поля "Год"</b><p>
 (остальные поля заполняются валидными данными):

1. Поле "Год" оставить пустым. <p>
<b>ОР:</b> Под полем "Год" появляется сообщение ошибки "Неверный формат".

2. В поле "Год" ввести одну цифру. <p>
<b>ОР:</b> Под полем "Год" появляется сообщение ошибки "Неверный формат".

3. В поле "Год" ввести невалидный год регистрации карты. <p>
<b>ОР:</b> Под полем "Год" появляется сообщение ошибки "Истек срок действия карты".
<p>

<b> Тестирование поля "Владелец" </b><p>
 (остальные поля заполняются валидными данными):

1. Поле "Владелец" оставить пустым. <p>
<b>ОР:</b> Под полем "Владелец" появляется сообщение ошибки "Поле обязательно для заполнения".

2. В поле "Владелец" ввести имя на кириллице. <p>
<b>ОР:</b> Под полем "Владелец" появляется сообщение ошибки "Недопустимый формат".

3. В поле "Владелец" ввести только Имя или только Фамилию. <p>
<b>ОР:</b> Под полем "Владелец" появляется сообщение ошибки "Поле заполнено не полностью".
<p>

<b> Тестирование поля "CVC/CVV" </b><p>
 (остальные поля заполняются валидными данными):

1. Поле "CVC/CVV" оставить пустым. <p>
<b>ОР:</b> Под полем "CVC/CVV" появляется сообщение ошибки "Неверный формат".

2. В поле "CVC/CVV" ввести меньше 3 цифр. <p>
<b>ОР:</b> Под полем "CVC/CVV" появляется сообщение ошибки "Неверный формат".

3. В поле "CVC/CVV" ввести нули. <p>
<b>ОР:</b> Под полем "CVC/CVV" появляется сообщение ошибки "Неверный формат".
<p>

<b> Проверка состояния базы данных после совершения платежа :</b><p>

1. Запрос в БД после проведения операции по карте со статусом в БД APPROVED. <p>
<b>ОР:</b> ОР - платеж отображается в БД со статусом APPROVED, запись отображена в таблице order_entity.

2. Запрос в БД после проведения операции по карте со статусом в БД DECLINED. <p>
<b>ОР:</b> ОР - платеж отображается в БД со статусом DECLINED, нет записи в таблице order_entity.


<p>

#

## <b> Тестирование покупки тура после нажатия кнопки "Купить в кредит".</b>

## Предусловия ##
<ul>
<li> На главной странице нажать кнопку "Купить в кредит".
<li> Валидный номер активированной карты 4444 4444 4444 4441.
<li> Валидный номер заблокированной карты 4444 4444 4444 4442.
</ul>

# 

## Позитивные сценарии: ###
<p>1. Успешная оплата тура по активной карте.
<ul>
<li> В поле "Номер карты" ввести валидное значение активной карты.
<li> В поле "Месяц" ввести валидные данные.
<li> В поле "Год" ввести валидные данные.
<li> В поле "Владелец" ввести валидное значение латиницей имя и фамилию.
<li> В поле "CVC/CVV" ввести валидное значение из трех цифр
<li> Нажать кнопку "Продолжить"
<li> ОР: Всплывающее окно с сообщением "Операция прошла успешно." В БД есть запись APPROVED.
</ul>

<p>2. Оплата тура отклонена по заблокированной карте.
<ul>
<li> В поле "Номер карты" ввести валидное значение заблокированной карты.
<li> В поле "Месяц" ввести валидные данные.
<li> В поле "Год" ввести валидные данные.
<li> В поле "Владелец" ввести валидное значение латиницей имя и фамилию.
<li> В поле "CVC/CVV" ввести валидное значение из трех цифр
<li> Нажать кнопку "Продолжить"
<li> ОР: Всплывающее окно с сообщением "Ошибка. Банк отказал в проведении операции". В БД есть запись DECLINED.
</ul>

<p>

## Негативные сценарии: ##


<b> Тестирование поля "Номер карты" </b><p>
 (остальные поля заполняются валидными данными):

1. Поле "Номер карты" оставить пустым. <p>
<b>ОР:</b> Под полем "Номер карты" появляется сообщение ошибки "Неверный формат".

2. В поле "Номер карты" ввести меньше 16 цифр. <p>
<b>ОР:</b> Под полем "Номер карты" появляется сообщение ошибки "Неверный формат".

3. В поле "Номер карты" ввести не существующий в БД номер карты. <p>
<b>ОР:</b> Под полем "Номер карты" появляется сообщение ошибки "Карты не существует".
<p>

<b> Тестирование поля "Месяц" </b><p>
(остальные поля заполняются валидными данными):

1. Поле "Месяц" оставить пустым. <p>
<b>ОР:</b> Под полем "Месяц" появляется сообщение ошибки "Неверный формат".

2. В поле "Месяц" ввести число, превыщающее количество месяцев в году. <p>
<b>ОР:</b> Под полем "Месяц" появляется сообщение ошибки "Неверный формат".

3. В поле "Месяц" ввести одну цифру. <p>
<b>ОР:</b> Под полем "Номер карты" появляется сообщение ошибки "Неверный формат".

3. В поле "Месяц" ввести невалидный месяц регистрации карты. <p>
<b>ОР:</b> Под полем "Месяц" появляется сообщение ошибки "Истек срок действия карты".

<b>Тестирование поля "Год"</b><p>
 (остальные поля заполняются валидными данными):

1. Поле "Год" оставить пустым. <p>
<b>ОР:</b> Под полем "Год" появляется сообщение ошибки "Неверный формат".

2. В поле "Год" ввести одну цифру. <p>
<b>ОР:</b> Под полем "Год" появляется сообщение ошибки "Неверный формат".

3. В поле "Год" ввести невалидный год регистрации карты. <p>
<b>ОР:</b> Под полем "Год" появляется сообщение ошибки "Истек срок действия карты".
<p>

<b> Тестирование поля "Владелец" </b><p>
 (остальные поля заполняются валидными данными):

1. Поле "Владелец" оставить пустым. <p>
<b>ОР:</b> Под полем "Владелец" появляется сообщение ошибки "Поле обязательно для заполнения".

2. В поле "Владелец" ввести имя на кириллице. <p>
<b>ОР:</b> Под полем "Владелец" появляется сообщение ошибки "Недопустимый формат".

3. В поле "Владелец" ввести только Имя или только Фамилию. <p>
<b>ОР:</b> Под полем "Владелец" появляется сообщение ошибки "Поле заполнено не полностью".
<p>

<b> Тестирование поля "CVC/CVV" </b><p>
 (остальные поля заполняются валидными данными):

1. Поле "CVC/CVV" оставить пустым. <p>
<b>ОР:</b> Под полем "CVC/CVV" появляется сообщение ошибки "Неверный формат".

2. В поле "CVC/CVV" ввести меньше 3 цифр. <p>
<b>ОР:</b> Под полем "CVC/CVV" появляется сообщение ошибки "Неверный формат".

3. В поле "CVC/CVV" ввести нули. <p>
<b>ОР:</b> Под полем "CVC/CVV" появляется сообщение ошибки "Неверный формат".
<p>


<b> Проверка состояния базы данных после совершения платежа :</b><p>

1. Запрос в БД после проведения операции по карте со статусом в БД APPROVED. <p>
<b>ОР:</b> ОР - платеж отображается в БД со статусом APPROVED, запись отображена в таблице order_entity.

2. Запрос в БД после проведения операции по карте со статусом в БД DECLINED. <p>
<b>ОР:</b> ОР - платеж отображается в БД со статусом DECLINED, нет записи в таблице order_entity.
<p>

#

## <li> Перечень используемых инструментов. ##
<ul>
<li> IntelliJ IDEA для написания кода автотестов, его прогона и исправления, поддерживает разные языки программирования, позволяет использовать систему контроля версий Git и отправлять проекты на Github.
<li>Java SE Development Kit (JDK) 11 - пакет инструментов, необходимый для разработки программ на языке Java.
<li> Gradle - система для автоматизации сборки приложений на языке Java.
<li> Selenide - фреймворк для написания удобных для чтения и обслуживания автоматизированных тестов на Java.
<li> Lombok - библиотека Java, для сокращения кода.
<li> JavaFaker - библиотека генерации случайных данных, для упрощения заполнения форм.
<li> Docker - для запуска SUT.
<li> DBeaver - для доступа к СУБД.
<li> MySql/PostgresSql - заявлена поддержка двух СУБД.
<li> Google Chrome - для прогона автотестов, просмотра веб страниц и поиска css-селекторов.
<li> Lightshot - для создания скриншотов.
<li> Allure - фреймворк для построения отчетов.
</ul>

## <li> Перечень и описание возможных рисков при автоматизации. ##
<ul>
<li> Проблемы с настройкой и запуском тестируемого окружения и СУБД.
<li> Отсутствие уникальных css-селекторов.
<li> Заявлена поддержка двух СУБД, возможен разный результат тестов на каждой из них.
</ul>

## <li> Интервальная оценка с учётом рисков в часах. ##
<ul>
<li> Ознакомление с заданием - 1 час.
<li> Планирование автоматизации тестирования- 4 часа.
<li> Настройка окружения и СУБД - 4 часа.
<li> Написание и прогон автотестов, с учетом исправления ошибок - 80 часов.
<li>  Непредвиденные ситуации - до 10 часов.
<li> Построение отчета - 2 часа.
</ul>

#
### Итоговое время реализации тест плана: 101 час. ###
</ol>
